<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Dan's Blog | Semiconductor Engineer & Full-Stack Developer</title>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="A step-by-step tutorial on building a chatbot in Jupyter Notebook that uses tool execution (search_papers, extract_info) to handle complex queries without external frameworks."><meta name=author content="Dan"><meta name=theme-name content="liva-hugo"><meta name=generator content="Hugo 0.124.1"><link rel=stylesheet href=https://1daniel3333.github.io/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://1daniel3333.github.io/plugins/slick/slick.css><link rel=stylesheet href=https://1daniel3333.github.io/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://1daniel3333.github.io/plugins/venobox/venobox.css><link rel=stylesheet href=https://1daniel3333.github.io/css/custom.css><link rel=stylesheet href=https://1daniel3333.github.io/scss/style.min.css media=screen><link rel="shortcut icon" href=https://1daniel3333.github.io/images/favicon.png type=image/x-icon><link rel=icon href=https://1daniel3333.github.io/images/favicon.png type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-KRQTVSJCYG"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-KRQTVSJCYG")</script></head><body><div class=preloader></div><header class=navigation><div class=container><nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0"><a class="navbar-brand mobile-view" href=https://1daniel3333.github.io/><img loading decoding=async src=https://1daniel3333.github.io/images/logo.png alt="Dan's Blog | Semiconductor Engineer & Full-Stack Developer" class="img-fluid img" height width>
</a><button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class=ti-menu></i></button><div class="collapse navbar-collapse text-center" id=navigation><div class=desktop-view><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href="https://github.com/1daniel3333?tab=repositories"><i class=ti-github></i></a></li><li class=nav-item><a class=nav-link href=https://www.linkedin.com/in/data-analyst-dan/details/certifications/><i class=ti-linkedin></i></a></li><li class=nav-item><a class=nav-link href=https://medium.com/@p123456dan.mse99><i class=ti-sharethis-alt></i></a></li><li class=nav-item><a class=nav-link href=https://leetcode.com/u/1daniel3333/><i class=ti-stats-up></i></a></li></ul></div><a class="navbar-brand mx-auto desktop-view" href=https://1daniel3333.github.io/><img loading decoding=async src=https://1daniel3333.github.io/images/logo.png alt="Dan's Blog | Semiconductor Engineer & Full-Stack Developer" class="img-fluid img" height width></a><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://1daniel3333.github.io/blog/>Post</a></li></ul><div class="search pl-lg-4"><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://1daniel3333.github.io//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder="Type & Hit Enter..."></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><section class=section-sm><div class=container><div class=row><div class="col-lg-8 mx-auto"><a href=/categories/ai class=text-primary>Ai</a>
<a href=/categories/llm class=text-primary>Llm</a>
<a href=/categories/development class=text-primary>Development</a>
<a href=/categories/chatbot class=text-primary>Chatbot</a>
<a href=/categories/english class=text-primary>English</a><h2>Using Tools to Build a Chatbot: A Practical Example in a Jupyter Notebook</h2><div class="mb-3 post-meta"><span>By Dan</span>
<span class="border-bottom border-primary px-2 mx-1"></span>
<span>21 August 2025</span></div><picture><source srcset=/images/post/no-mcp-flow_hub9448a30da61f6bface5eb0594d1b671_55932_545x0_resize_q75_h2_box.webp media="(max-width: 575px)"><source srcset=/images/post/no-mcp-flow_hub9448a30da61f6bface5eb0594d1b671_55932_600x0_resize_q75_h2_box.webp media="(max-width: 767px)"><source srcset=/images/post/no-mcp-flow_hub9448a30da61f6bface5eb0594d1b671_55932_700x0_resize_q75_h2_box.webp media="(max-width: 991px)"><source srcset=/images/post/no-mcp-flow_hub9448a30da61f6bface5eb0594d1b671_55932_1110x0_resize_q75_h2_box.webp><img loading=lazy decoding=async src=/images/post/no-mcp-flow_hub9448a30da61f6bface5eb0594d1b671_55932_1110x0_resize_q75_box.jpg class="img-fluid w-100 mb-4 img" alt="Using Tools to Build a Chatbot: A Practical Example in a Jupyter Notebook" width=718 height=553></picture><div class="content mb-5"><p>Following the previous article on the concept of MCP, this time we will
get hands-on and build a chatbot prototype directly in a Jupyter
Notebook environment. This example will demonstrate how to empower a
language model to handle more complex queries by defining and executing
tools directly, without relying on an external framework. The entire
example covers the definition and execution of tools, as well as the
construction of the chatbot&rsquo;s core code.</p><h2 id=basic-flow>Basic flow</h2><h3 id=two-powerful-core-tools>Two Powerful Core Tools</h3><p>This chatbot relies on two core tools to perform its tasks:</p><p><strong>search_papers</strong>: - <strong>Function</strong>: This tool searches for relevant
papers on the arXiv platform based on a given topic and stores their
information (including title, authors, summary, paper URL, and
publication date) into a JSON file. - <strong>Special Note</strong>: These JSON files
are organized by topic in the papers directory, but the tool itself does
not download the papers. - <strong>Parameters</strong>: <code>topic</code> (the topic to search
for) and <code>max_results</code> (the maximum number of papers to retrieve,
defaulting to 5).</p><p><strong>extract_info</strong>: - <strong>Function</strong>: This tool looks for detailed
information about a specific paper across all topic directories within
the papers folder. - <strong>Parameters</strong>: <code>paper_id</code> (the ID of the paper to
look up). - <strong>Return Value</strong>: If the paper is found, it returns a JSON
string with the paper&rsquo;s information; otherwise, it returns an error
message.</p><hr><h2 id=the-communication-bridge-between-tools-and-the-language-model>The Communication Bridge between Tools and the Language Model</h2><p>To enable the language model to use these tools, we need to define a
tool &ldquo;schema&rdquo; and establish an execution mechanism.</p><ul><li><strong>Tool Schema</strong>: In the tools JSON object, we define the name, a
description of the function, and the required parameters for each
available tool. The language model refers to this schema to
determine when and how to call a tool to fulfill a user&rsquo;s request.</li><li><strong>Tool Mapping and Execution</strong>: The <code>execute_tool</code> function plays a
crucial role. It connects the tool name decided by the language
model to its corresponding Python function (<code>search_papers</code> or
<code>extract_info</code>) and executes it. Additionally, it formats the tool&rsquo;s
execution results so the language model can easily understand them
and use them to generate the final response.</li></ul><hr><h2 id=the-chatbots-logic>The Chatbot&rsquo;s Logic</h2><p>This chatbot operates in a simple yet effective manner. It processes
user queries one by one but does not persist memory across different
queries.</p><ul><li><strong>process_query</strong>: This is the core function for handling a single
query. It sends the user&rsquo;s question to the language model and then
enters a loop. If the language model decides to call a tool,
<code>process_query</code> will execute it and return the result to the model,
allowing it to continue the conversation based on the new
information until a final natural language response is produced.</li><li><strong>chat_loop</strong>: This function provides an interactive interface,
allowing users to continuously input queries until they type <code>quit</code>
to exit.</li></ul><hr><h2 id=try-it-out>Try it Out</h2><p>üëâ <a href=https://github.com/1daniel3333/mcp_trial/blob/main/L3.ipynb>Jupyter Notebook
Example</a></p><p>You are free to interact with this chatbot. For example, you can enter
the following query to test it:</p><pre><code>Search for 2 papers on ‚ÄúLLM interpretability‚Äù
</code></pre><p>To access the <code>papers</code> folder and view the saved paper files, go to the
Jupyter Notebook and click on: <strong>File ‚Üí Open ‚Üí L3</strong></p></div></div></div></div></section><section class=section-sm><div class=container><div class=row><div class="col-lg-8 mx-auto text-center"><h2>Join Our Newsletter</h2><p class="text-light px-md-5 py-4 border-left border-right border-primary">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero</p><form action=# class="row justify-content-center"><div class="input-group col-md-8"><input type=text class=form-control placeholder="Your Email Address"><div class=input-group-append><button class="input-group-text btn btn-primary">Subscribe</button></div></div></form></div></div></div></section><footer class=text-capitalize><div class=container><div class="row justify-content-center"><div class="col-12 text-center mb-5"><a href=https://1daniel3333.github.io/><img loading decoding=async src=https://1daniel3333.github.io/images/logo.png alt="Dan's Blog | Semiconductor Engineer & Full-Stack Developer" class=img height width></a></div><div class="col-lg-3 col-sm-6 mb-5"><h6 class=mb-4>Social Contacts</h6><ul class=list-unstyled><li class=mb-3><a class=text-dark href="https://github.com/1daniel3333?tab=repositories">github</a></li><li class=mb-3><a class=text-dark href=https://www.linkedin.com/in/data-analyst-dan/details/certifications/>linkedin</a></li><li class=mb-3><a class=text-dark href=https://medium.com/@p123456dan.mse99>medium</a></li><li class=mb-3><a class=text-dark href=https://leetcode.com/u/1daniel3333/>Leetcode</a></li></ul></div><div class="col-lg-3 col-sm-6 mb-5"><h6 class=mb-4>Categories</h6><ul class=list-unstyled><li class=mb-3><a class=text-dark href=/categories/ai/>Ai</a></li><li class=mb-3><a class=text-dark href=/categories/ai-integration/>Ai integration</a></li><li class=mb-3><a class=text-dark href=/categories/automation/>Automation</a></li><li class=mb-3><a class=text-dark href=/categories/chatbot/>Chatbot</a></li><li class=mb-3><a class=text-dark href=/categories/chinese/>Chinese</a></li><li class=mb-3><a class=text-dark href=/categories/cloud-run/>Cloud run</a></li><li class=mb-3><a class=text-dark href=/categories/computer-vision/>Computer vision</a></li><li class=mb-3><a class=text-dark href=/categories/development/>Development</a></li><li class=mb-3><a class=text-dark href=/categories/english/>English</a></li><li class=mb-3><a class=text-dark href=/categories/fastapi/>Fastapi</a></li><li class=mb-3><a class=text-dark href=/categories/flask/>Flask</a></li><li class=mb-3><a class=text-dark href=/categories/github/>Github</a></li><li class=mb-3><a class=text-dark href=/categories/github-action/>Github action</a></li><li class=mb-3><a class=text-dark href=/categories/github-actions/>Github actions</a></li><li class=mb-3><a class=text-dark href=/categories/hugo/>Hugo</a></li><li class=mb-3><a class=text-dark href=/categories/line-bot/>Line bot</a></li><li class=mb-3><a class=text-dark href=/categories/llm/>Llm</a></li><li class=mb-3><a class=text-dark href=/categories/newsletter/>Newsletter</a></li><li class=mb-3><a class=text-dark href=/categories/open-source/>Open source</a></li><li class=mb-3><a class=text-dark href=/categories/personal-website/>Personal website</a></li><li class=mb-3><a class=text-dark href=/categories/protocol/>Protocol</a></li><li class=mb-3><a class=text-dark href=/categories/python/>Python</a></li><li class=mb-3><a class=text-dark href=/categories/side-project/>Side project</a></li><li class=mb-3><a class=text-dark href=/categories/smart-city/>Smart city</a></li><li class=mb-3><a class=text-dark href=/categories/static-site/>Static site</a></li><li class=mb-3><a class=text-dark href=/categories/webhook/>Webhook</a></li></ul></div><div class="col-lg-3 col-sm-6 mb-5"><h6 class=mb-4>Quick Links</h6><ul class=list-unstyled><li class=mb-3><a class=text-dark href=https://1daniel3333.github.io/blog/>Post</a></li></ul></div><div class="col-12 border-top py-4 text-center">| copyright ¬© 2024 Dan. All Rights Reserved |</div></div></div></footer><script>var indexURL="https://1daniel3333.github.io/index.json"</script><script src=https://1daniel3333.github.io/plugins/jQuery/jquery.min.js></script><script src=https://1daniel3333.github.io/plugins/bootstrap/bootstrap.min.js></script><script src=https://1daniel3333.github.io/plugins/slick/slick.min.js></script><script src=https://1daniel3333.github.io/plugins/venobox/venobox.min.js></script><script src=https://1daniel3333.github.io/plugins/search/fuse.min.js></script><script src=https://1daniel3333.github.io/plugins/search/mark.js></script><script src=https://1daniel3333.github.io/plugins/search/search.js></script><script src=https://1daniel3333.github.io/js/script.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.2.1/js.cookie.min.js></script><div id=js-cookie-box class="cookie-box cookie-box-hide">This site uses cookies. By continuing to use this website, you agree to their use. <span id=js-cookie-button class="btn btn-sm btn-primary ml-2">I Accept</span></div><script>(function(){const t=document.getElementById("js-cookie-box"),n=document.getElementById("js-cookie-button");Cookies.get("cookie-box")||(t.classList.remove("cookie-box-hide"),n.onclick=function(){Cookies.set("cookie-box",!0,{expires:2}),t.classList.add("cookie-box-hide")})})(jQuery)</script><style>.cookie-box{position:fixed;left:0;right:0;bottom:0;text-align:center;z-index:9999;padding:1rem 2rem;background:#474747;transition:all .75s cubic-bezier(.19,1,.22,1);color:#fdfdfd}.cookie-box-hide{display:none}</style></body></html>